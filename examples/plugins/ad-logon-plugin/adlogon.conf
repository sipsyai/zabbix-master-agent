# Zabbix Agent 2 - ADLogon Plugin Configuration
#
# This configuration file should be placed in:
# C:\Program Files\Zabbix Agent 2\zabbix_agent2.d\plugins.d\
#
# After placing this file, restart Zabbix Agent 2:
#   Restart-Service "Zabbix Agent 2"

### REQUIRED SETTINGS ###

# Path to the ADLogon plugin executable
# Use forward slashes or double backslashes for Windows paths
Plugins.ADLogon.System.Path=C:/Program Files/Zabbix Agent 2/plugins/zabbix-agent2-plugin-adlogon.exe

### OPTIONAL SETTINGS ###

# Timeout for event log operations in seconds (default: 30, range: 1-300)
# Increase this if you have large event logs or slow disk I/O
# Plugins.ADLogon.Timeout=30

# Maximum number of events to retrieve per query (default: 1000, range: 1-10000)
# Adjust based on your monitoring needs and performance requirements
# Higher values may impact performance but provide more complete data
# Plugins.ADLogon.MaxEvents=1000

# Cache expiry time in seconds (default: 300, range: 0-3600)
# Set to 0 to disable caching
# Caching can improve performance for frequently queried metrics
# Plugins.ADLogon.CacheExpiry=300

# Default time range in hours for event queries (default: 24, range: 1-720)
# This is used when the 'hours' parameter is not specified in the item key
# Plugins.ADLogon.DefaultHours=24

# Enable detailed debug logging (default: false)
# When enabled, the plugin will log detailed information about its operations
# Useful for troubleshooting but may generate large log files
# Plugins.ADLogon.DebugMode=false

### NOTES ###

# 1. The plugin requires Administrator privileges to read Security event logs
#    Ensure Zabbix Agent 2 is running with appropriate permissions
#
# 2. Windows Event Log access:
#    - The plugin reads from Security, System, and Netlogon channels
#    - Ensure these logs are enabled and accessible
#
# 3. Performance considerations:
#    - Large event logs may take time to query
#    - Use the 'hours' parameter to limit the time range
#    - Consider enabling caching for frequently accessed data
#
# 4. Testing the plugin:
#    After configuration, test with:
#    zabbix_agent2 -t ad.logon[failure,24]
#
# 5. For more information, see README.md
