---
title: mediatype.get
source: https://www.zabbix.com/documentation/current/en/manual/api/reference/mediatype/get
downloaded: 2025-11-14 10:43:25
---

# mediatype.get

### Description

`integer/array mediatype.get(object parameters)`

The method allows to retrieve media types according to the given parameters.

This method is available to users of any type. Permissions to call the method can be revoked in user role settings. See [User roles](/documentation/current/en/manual/web_interface/frontend_sections/users/user_roles) for more information.

### Parameters

`(object)` Parameters defining the desired output.

The method supports the following parameters.

When requesting user-related information of media types, _Admin_ and _User_ type users may retrieve data only about their own user. For an example, see Retrieving media types as _Admin_.

mediatypeids | ID/array | Return only media types with the given IDs.  
---|---|---  
mediaids | ID/array | Return only media types used by the given [media](/documentation/current/en/manual/api/reference/user/object#media).  
userids | ID/array | Return only media types used by the given users.  
selectActions | query | Return an [`actions`](/documentation/current/en/manual/api/reference/action/object) property with the actions that use the media type.  
selectMessageTemplates | query | Return a [`message_templates`](/documentation/current/en/manual/api/reference/mediatype/object#Message-template) property with an array of media type messages.  
  
[Parameter behavior](/documentation/current/en/manual/api/reference_commentary#parameter-behavior):  
\- _supported_ for _Super admin_ type users  
selectUsers | query | Return a [`users`](/documentation/current/en/manual/api/reference/user/object) property with the users that use the media type.  
  
See [`user.get`](/documentation/current/en/manual/api/reference/user/get) for restrictions based on user type.  
sortfield | string/array | Sort the result by the given properties.  
  
Possible values: `mediatypeid`.  
filter | object | Return only those results that exactly match the given filter.  
  
Accepts an object, where the keys are property names, and the values are either a single value or an array of values to match against.  
  
Does not support properties of `text` [data type](/documentation/current/en/manual/api/reference_commentary#data-types).  
  
Possible [Media type object](/documentation/current/en/manual/api/reference/mediatype/object) properties for _Admin_ and _User_ type users: `mediatypeid`, `name`, `type`, `status`, `maxattempts`.  
output | query | [Media type object](/documentation/current/en/manual/api/reference/mediatype/object) properties to be returned.  
  
_Admin_ and _User_ type users may retrieve only the following properties: `mediatypeid`, `name`, `type`, `status`, `maxattempts`, `description`. For an example, see Retrieving media types as _Admin_.  
  
Default: `extend`.  
search | object | Return results that match the given pattern (case-insensitive).  
  
Accepts an object, where the keys are property names, and the values are strings to search for. If no additional options are given, this will perform a `LIKE "%…%"` search.  
  
Supports only properties of `string` and `text` [data type](/documentation/current/en/manual/api/reference_commentary#data-types).  
  
Possible [Media type object](/documentation/current/en/manual/api/reference/mediatype/object) properties for _Admin_ and _User_ type users: `name`, `description`.  
countOutput | boolean | These parameters are described in the [reference commentary](/documentation/current/en/manual/api/reference_commentary#common-get-method-parameters).  
editable | boolean  
excludeSearch | boolean  
limit | integer  
preservekeys | boolean  
searchByAny | boolean  
searchWildcardsEnabled | boolean  
sortorder | string/array  
startSearch | boolean  
  
### Return values

`(integer/array)` Returns either:

  * an array of objects;
  * the count of retrieved objects, if the `countOutput` parameter has been used.

### Examples

#### Retrieving media types

Retrieve all configured media types. The following example returns two media types:

  * email media type;
  * SMS media type.

[Request](/documentation/current/en/manual/api#performing-requests):
    
    
    {
               "jsonrpc": "2.0",
               "method": "mediatype.get",
               "params": {
                   "output": "extend",
                   "selectMessageTemplates": "extend"
               },
               "id": 1
           }

Copy

✔ Copied

Response:
    
    
    {
               "jsonrpc": "2.0",
               "result": [
                   {
                       "mediatypeid": "1",
                       "type": "0",
                       "name": "Email",
                       "smtp_server": "mail.example.com",
                       "smtp_helo": "example.com",
                       "smtp_email": "zabbix@example.com",
                       "exec_path": "",
                       "gsm_modem": "",
                       "username": "",
                       "passwd": "",
                       "status": "0",
                       "smtp_port": "25",
                       "smtp_security": "0",
                       "smtp_verify_peer": "0",
                       "smtp_verify_host": "0",
                       "smtp_authentication": "0",
                       "maxsessions": "1",
                       "maxattempts": "3",
                       "attempt_interval": "10s",
                       "message_format": "0",
                       "script": "",
                       "timeout": "30s",
                       "process_tags": "0",
                       "show_event_menu": "1",
                       "event_menu_url": "",
                       "event_menu_name": "",
                       "description": "",
                       "provider": "0",
                       "message_templates": [
                           {
                               "eventsource": "0",
                               "recovery": "0",
                               "subject": "Problem: {EVENT.NAME}",
                               "message": "Problem started at {EVENT.TIME} on {EVENT.DATE}\r\nProblem name: {EVENT.NAME}\r\nHost: {HOST.NAME}\r\nSeverity: {EVENT.SEVERITY}\r\nOperational data: {EVENT.OPDATA}\r\nOriginal problem ID: {EVENT.ID}\r\n{TRIGGER.URL}"
                           },
                           {
                               "eventsource": "0",
                               "recovery": "1",
                               "subject": "Resolved: {EVENT.NAME}",
                               "message": "Problem has been resolved at {EVENT.RECOVERY.TIME} on {EVENT.RECOVERY.DATE}\r\nProblem name: {EVENT.NAME}\r\nHost: {HOST.NAME}\r\nSeverity: {EVENT.SEVERITY}\r\n\r\nOriginal problem ID: {EVENT.ID}\r\n{TRIGGER.URL}"
                           },
                           {
                               "eventsource": "0",
                               "recovery": "2",
                               "subject": "Updated problem: {EVENT.NAME}",
                               "message": "{USER.FULLNAME} {EVENT.UPDATE.ACTION} problem at {EVENT.UPDATE.DATE} {EVENT.UPDATE.TIME}.\r\n{EVENT.UPDATE.MESSAGE}\r\n\r\nCurrent problem status is {EVENT.STATUS}, acknowledged: {EVENT.ACK.STATUS}."
                           },
                           {
                               "eventsource": "1",
                               "recovery": "0",
                               "subject": "Discovery: {DISCOVERY.DEVICE.STATUS} {DISCOVERY.DEVICE.IPADDRESS}",
                               "message": "Discovery rule: {DISCOVERY.RULE.NAME}\r\n\r\nDevice IP: {DISCOVERY.DEVICE.IPADDRESS}\r\nDevice DNS: {DISCOVERY.DEVICE.DNS}\r\nDevice status: {DISCOVERY.DEVICE.STATUS}\r\nDevice uptime: {DISCOVERY.DEVICE.UPTIME}\r\n\r\nDevice service name: {DISCOVERY.SERVICE.NAME}\r\nDevice service port: {DISCOVERY.SERVICE.PORT}\r\nDevice service status: {DISCOVERY.SERVICE.STATUS}\r\nDevice service uptime: {DISCOVERY.SERVICE.UPTIME}"
                           },
                           {
                               "eventsource": "2",
                               "recovery": "0",
                               "subject": "Autoregistration: {HOST.HOST}",
                               "message": "Host name: {HOST.HOST}\r\nHost IP: {HOST.IP}\r\nAgent port: {HOST.PORT}"
                           }
                       ],
                       "parameters": []
                   },
                   {
                       "mediatypeid": "3",
                       "type": "2",
                       "name": "SMS",
                       "smtp_server": "",
                       "smtp_helo": "",
                       "smtp_email": "",
                       "exec_path": "",
                       "gsm_modem": "/dev/ttyS0",
                       "username": "",
                       "passwd": "",
                       "status": "0",
                       "smtp_port": "25",
                       "smtp_security": "0",
                       "smtp_verify_peer": "0",
                       "smtp_verify_host": "0",
                       "smtp_authentication": "0",
                       "maxsessions": "1",
                       "maxattempts": "3",
                       "attempt_interval": "10s",
                       "message_format": "1",
                       "script": "",
                       "timeout": "30s",
                       "process_tags": "0",
                       "show_event_menu": "1",
                       "event_menu_url": "",
                       "event_menu_name": "",
                       "description": "",
                       "provider": "0",
                       "message_templates": [
                           {
                               "eventsource": "0",
                               "recovery": "0",
                               "subject": "",
                               "message": "{EVENT.SEVERITY}: {EVENT.NAME}\r\nHost: {HOST.NAME}\r\n{EVENT.DATE} {EVENT.TIME}"
                           },
                           {
                               "eventsource": "0",
                               "recovery": "1",
                               "subject": "",
                               "message": "RESOLVED: {EVENT.NAME}\r\nHost: {HOST.NAME}\r\n{EVENT.DATE} {EVENT.TIME}"
                           },
                           {
                               "eventsource": "0",
                               "recovery": "2",
                               "subject": "",
                               "message": "{USER.FULLNAME} {EVENT.UPDATE.ACTION} problem at {EVENT.UPDATE.DATE} {EVENT.UPDATE.TIME}"
                           },
                           {
                               "eventsource": "1",
                               "recovery": "0",
                               "subject": "",
                               "message": "Discovery: {DISCOVERY.DEVICE.STATUS} {DISCOVERY.DEVICE.IPADDRESS}"
                           },
                           {
                               "eventsource": "2",
                               "recovery": "0",
                               "subject": "",
                               "message": "Autoregistration: {HOST.HOST}\r\nHost IP: {HOST.IP}\r\nAgent port: {HOST.PORT}"
                           }
                       ],
                       "parameters": []
                   }
               ],
               "id": 1
           }

Copy

✔ Copied

#### Retrieving media types as _Admin_

As an _Admin_ type user, retrieve all media types that are enabled, with users that use these media types. The following example returns two media types:

  * email media type with one user (only _Admin_ type user's own user);
  * SMS media type with no users.

[Request](/documentation/current/en/manual/api#performing-requests):
    
    
    {
               "jsonrpc": "2.0",
               "method": "mediatype.get",
               "params": {
                   "output": "extend",
                   "filter": {
                       "status": 0
                   },
                   "selectUsers": "extend"
               },
               "id": 1
           }

Copy

✔ Copied

Response:
    
    
    {
               "jsonrpc": "2.0",
               "result": [
                   {
                       "mediatypeid": "1",
                       "type": "0",
                       "name": "Email",
                       "status": "0",
                       "description": "",
                       "maxattempts": "3",
                       "users": [
                           {
                               "userid": "3",
                               "username": "database-admin",
                               "name": "John",
                               "surname": "Doe",
                               "url": "",
                               "autologin": "0",
                               "autologout": "0",
                               "lang": "default",
                               "refresh": "30s",
                               "theme": "default",
                               "attempt_failed": "0",
                               "attempt_ip": "",
                               "attempt_clock": "0",
                               "rows_per_page": "50",
                               "timezone": "default",
                               "roleid": "2",
                               "provisioned": "0"
                           }
                       ]
                   },
                   {
                       "mediatypeid": "3",
                       "type": "2",
                       "name": "SMS",
                       "status": "0",
                       "description": "",
                       "maxattempts": "3",
                       "users": []
                   }
               ],
               "id": 1
           }

Copy

✔ Copied

#### Retrieve script and webhook media types

The following example returns three media types:

  * script media type with parameters;
  * script media type without parameters;
  * webhook media type with parameters.

[Request](/documentation/current/en/manual/api#performing-requests):
    
    
    {
               "jsonrpc": "2.0",
               "method": "mediatype.get",
               "params": {
                   "output": ["mediatypeid", "name", "parameters"],
                   "filter": {
                       "type": [1, 4]
                   }
               },
               "id": 1
           }

Copy

✔ Copied

Response:
    
    
    {
               "jsonrpc": "2.0",
               "result": [
                   {
                       "mediatypeid": "10",
                       "name": "Script with parameters",
                       "parameters": [
                           {
                               "sortorder": "0",
                               "value": "{ALERT.SENDTO}"
                           },
                           {
                               "sortorder": "1",
                               "value": "{EVENT.NAME}"
                           },
                           {
                               "sortorder": "2",
                               "value": "{ALERT.MESSAGE}"
                           },
                           {
                               "sortorder": "3",
                               "value": "Zabbix alert"
                           }
                       ]
                   },
                   {
                       "mediatypeid": "13",
                       "name": "Script without parameters",
                       "parameters": []
                   },
                   {
                       "mediatypeid": "11",
                       "name": "Webhook",
                       "parameters": [
                           {
                               "name": "alert_message",
                               "value": "{ALERT.MESSAGE}"
                           },
                           {
                               "name": "event_update_message",
                               "value": "{EVENT.UPDATE.MESSAGE}"
                           },
                           {
                               "name": "host_name",
                               "value": "{HOST.NAME}"
                           },
                           {
                               "name": "trigger_description",
                               "value": "{TRIGGER.DESCRIPTION}"
                           },
                           {
                               "name": "trigger_id",
                               "value": "{TRIGGER.ID}"
                           },
                           {
                               "name": "alert_source",
                               "value": "Zabbix"
                           }
                       ]
                   }
               ],
               "id": 1
           }

Copy

✔ Copied

### See also

  * [User](/documentation/current/en/manual/api/reference/user/object#user)

### Source

CMediaType::get() in _ui/include/classes/api/services/CMediaType.php_.